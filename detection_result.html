{% extends "base.html" %} {% block content %}
<div class="result-container">
  <h1>Analysis Complete</h1>

  {% if video_url %}
    <p>Your processed video is ready.</p>
    
    <button id="play-btn" class="upload-btn">▶️ Play Video</button>

    <video id="result-video" width="720" controls style="display: none; margin-top: 20px;">
      <source src="{{ video_url }}" type="video/mp4">
      Your browser does not support the video tag.
    </video>

  {% else %}
    <p>Sorry, there was an error processing your video or no output was generated.</p>
  {% endif %}

</div>

<script>
  // Add this JavaScript at the bottom of the file
  document.getElementById('play-btn').addEventListener('click', function() {
    const videoPlayer = document.getElementById('result-video');
    const playButton = this;
    
    // Show the video player
    videoPlayer.style.display = 'block';
    
    // Play the video
    videoPlayer.play();
    
    // Hide the "Play Video" button after clicking it
    playButton.style.display = 'none'; 
  });
</script>

{% endblock %}